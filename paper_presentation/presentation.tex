\documentclass[10pt]{beamer}
\usetheme[progressbar=frametitle]{metropolis}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[french,english]{babel}
\usepackage{booktabs}
\usepackage[scale=2]{ccicons}
\usepackage{picture}
\usepackage{pgfplots}
\usepgfplotslibrary{dateplot}
\usepackage{bm}
\usepackage{mathtools}
\usepackage{subcaption}
\usepackage{comment}
\usepackage{xspace}
\newcommand{\themename}{\textbf{\textsc{metropolis}}\xspace}
\usepackage{adjustbox}
\makeatletter
\setlength{\metropolis@titleseparator@linewidth}{1pt}
\setlength{\metropolis@progressonsectionpage@linewidth}{1pt}
\setlength{\metropolis@progressinheadfoot@linewidth}{1pt}
\makeatother
\definecolor{Purple}{HTML}{911146}
\definecolor{bluecerdi}{HTML}{32567c} 
\definecolor{Green}{RGB}{168,187,33}
\definecolor{redcerdi}{HTML}{7c324f} 
\definecolor{bluered}{RGB}{18, 73, 110}
\definecolor{UBCblue}{rgb}{0.04706, 0.13725, 0.26667} % UBC Blue (primary)
\definecolor{UBCgrey}{RGB}{140, 0, 0} 
\definecolor{orange2}{RGB}{174, 54, 5}
\usefonttheme{default}   
\setbeamercolor{background canvas}{bg=white}
\setbeamercolor{alerted text}{fg=bluecerdi}
\setbeamercolor{frametitle}{fg=UBCblue}
\setbeamercolor{frametitle}{bg=white}
\setbeamertemplate{itemize items}[default]  
\setbeamerfont{frametitle}{size=\normalsize}
\usepackage{ragged2e}  


\justifying 
%\let\olditem\item
%\renewcommand\item{\olditem\justifying}
\usepackage{appendixnumberbeamer}
\setbeamercolor{button}{bg=lightgray,fg=black}
\usetikzlibrary{shapes.geometric, arrows.meta, positioning}
\renewcommand{\raggedright}{\leftskip=0pt \rightskip=0pt plus 0cm}


\usepackage{times}

\title{\textbf{SDD - Special Issue : Reproducibility and Project Organisation in Research}\\[0.2em]\Large{\textit{}}}
%\subtitle{None}
% \date{\today}
\date{\today}
\author{The R Lobby (Flo \& Alex)}
\institute{\bigskip \bigskip \includegraphics[scale=0.25]{paper_presentation/figures/Dauphine_LOGO.png}\centering}
%\titlegraphic{\centering  \includegraphics[height=1.1cm]{Figures/logo.png} \includegraphics[height=0.9cm]{Figures/Logo_CES_fond-blanc}\includegraphics[height=1cm]{Figures/pse.jpg}}
\begin{document}

\begin{frame}[plain]

    \maketitle
    
\end{frame}

\begin{frame}{Vue d'ensemble}
\tableofcontents
\end{frame}

\section{Project organisation of a research project}

\begin{frame}\frametitle{Folder structure and R project}

\alert{Basic structure we tend to like}

\begin{itemize}
    \item \textcolor{blue}{code}
    \begin{itemize}
        \item ProjectR.Rmd
        \item ProjectR.pdf
    \end{itemize}
    \item  \textcolor{blue}{data\_in}
    \begin{itemize}
        \item rawdata.xlsx
    \end{itemize}
    \item \textcolor{blue}{data\_out}
    \begin{itemize}
        \item cleandata.xlsx
    \end{itemize}
    \item \textcolor{blue}{ProjetR.Rproj}
\end{itemize}

\alert{Tuto}

Before starting anything, do create a R project at the root of your project, and always open this project before starting to work on your code. 

Different situations imply different configurations $\Rightarrow$ Individual work \textit{v.s.} collaborative work

\end{frame}


\begin{frame}{Quarto and Rmarkdown}


\alert{What they are}

\begin{itemize}
    \item They render documents automatically from your RStudio 
    \item They allow to mix chunks of code and written text (in LaTeX or other formats)
    \item They are useful to automatise the generation of tables, stats in the text, and figures
\end{itemize}

\alert{The differences}

\begin{itemize}

    \item {Language Support}
        \begin{itemize}
            \item R Markdown: Primarily R.
            \item Quarto: Works with R, Python, Julia, and JS.
        \end{itemize}

    \item {Workflow}
        \begin{itemize}
            \item R Markdown: Render via \texttt{knitr} inside RStudio.
            \item Quarto: Standalone tool; integrates with or without RStudio.
        \end{itemize}

    \item {Outputs}
        \begin{itemize}
            \item Both: HTML, PDF, Word, slides.
            \item Quarto: More advanced websites, books, and project workflows.
        \end{itemize}
\end{itemize}

    
\end{frame}

\section{Github integration in RStudio}




\begin{frame}{What is Git? What is GitHub?}

\begin{itemize}
    \item Git: an open source software for version control 
    \item GitHub: service for collaborating on code using Git 
\end{itemize}
\vfill

Using Git/GitHub: 
\begin{itemize}
    \item serves as a backup 
    \item allows you to use version control 
    \item makes it possible to work on the same project at the same time as collaborators 

\end{itemize}
\vfill


\footnotesize{
Source: \href{https://rfortherestofus.com/2021/02/how-to-use-git-github-with-r}{R for the rest of us' blogpost about the Github integration in R}
}
    
\end{frame}

\begin{frame}{How to setup Git}

\begin{itemize}
    \item \href{https://happygitwithr.com/install-git.html }{Install Git}
    \item \href{https://happygitwithr.com/hello-git.html}{Configure Git} 
    \end{itemize}

See: \href{https://rfortherestofus.com/2021/02/how-to-use-git-github-with-r}{R for the rest of us' blogpost about the Github integration in R}

\vfill

\begin{itemize}

    \item Initialize a Git Repository
    \begin{itemize}
        \item New Project > New Directory > Create Project 
        \item in Console: \\
        \texttt{library(usethis)}\\
        \texttt{use\_git()} -> creates Git tab in R environment 
        \item You can view make commits and view history (for version control)
    \end{itemize}

\end{itemize}


% \begin{verbatim}
% library(usethis)
% use\_git()
% \end{verbatim}

\end{frame}

\begin{frame}{Github integration in RStudio}

(1) Connect RStudio \& GitHub: 
\begin{itemize}
    \item Create GitHub account then create Personal Access Token (PAT) on GitHub (save it!)
    \item Sync RStudio \& GitHub :\\
    \texttt{library(gitcreds)}\\
        \texttt{gitcreds\_set()} -> enter PAT 
\end{itemize}


(2) Connect RStudio projects with GitHub repositories: 

\begin{itemize}
    \item In Github: Create repository
    \item In R: New project -> Version Control -> Git -> copy repository URL + create clone local repository 
\end{itemize}


\footnotesize{Other option: if you already have a local project and want make it a GitHub repo:\\
        \texttt{library(usethis)}\\
        \texttt{use\_github()} -> creates GitHub repository from local project you're working on}


\end{frame}


\begin{frame}{Working with RStudio and GitHub}

\textcolor{red}{\textbf{Push}}: Sending any changes in your code from RStudio to GitHub
    \begin{itemize}
        \item Save changes, \textcolor{red}{\textbf{commit}} changes, add commit message and click \textbf{Push} (to send these changes to GitHub)
    \end{itemize}
    
\textcolor{red}{\textbf{Pull}}: RStudio goes to the GitHub repo and brings the most recent changes to RStudio 
\begin{itemize}
    \item Click Pull to bring changes from collaborators
    \item This is important when \textbf{collaborating} (if you're working alone, there are no 'new changes' to pull)
\end{itemize}


\end{frame}


\begin{frame}{Summary of GitHub/RStudio workflow}


\begin{figure}
    \centering
    \includegraphics[width=0.8\linewidth]{paper_presentation/figures/github_rstudio_workflow.png}
    \caption{GitHub and RStudio workflow}
    \label{fig:github_rstudio_workflow}
\end{figure}
    
\end{frame}

\begin{frame}{Collaborating using GitHub}

\begin{figure}
    \centering
    \includegraphics[width=0.5\linewidth]{paper_presentation/figures/local and remote repo.png}
    \caption{Local repositories clone remote repository}
    \label{fig:placeholder}
\end{figure}
    
\end{frame}

\section{Github integration in Overleaf}

\begin{frame}{Synchronizing Overleaf with Git/GitHub}

\begin{figure}
    \centering
    \includegraphics[width=0.5\linewidth]{paper_presentation/figures/github_overleaf_sync.png}
    \caption{Sync Git and Overleaf}
    \label{fig:placeholder}
\end{figure}

Resources: 
\begin{itemize}
    \item \href{https://docs.overleaf.com/integrations-and-add-ons/git-integration-and-github-synchronization}{Git integration and Github synchronisation with Overleaf}
\end{itemize}


    
\end{frame}

\begin{frame}{Overleaf and Git/Github Workflow}

\begin{figure}
    \centering
    \includegraphics[width=0.5\linewidth]{paper_presentation/figures/github_overleaf.png}
    \caption{Push and Pull GitHub changes in Overleaf}
    \label{fig:placeholder}
\end{figure}
    
\end{frame}

\begin{frame}{Example of automatisation}

\input{paper_presentation/tables/stupidreg.tex}  

    
\end{frame}

\section{Discussion around each others' good practices}

\section{Some useful links}
\begin{frame}[allowframebreaks]{Some useful links}

\alert{General info about R}
\begin{itemize}
    \item \href{https://bookdown.org/yihui/rmarkdown/}{General guide Rmarkdown} with an extensive panorama about what you can do
    \item \href{https://larmarange.github.io/analyse-R/rmarkdown-les-rapports-automatises.html}{A guide in French} very well done by Joseph Larmarange (who's also a great demograph btw)
    \item \textcolor{red}{Important:} In order to compile PDFs with Rmardown, you must have a LaTeX machine installed on your computer. If that is not already the case, \textit{and in any case}, I suggest you install \href{https://bookdown.org/yihui/rmarkdown-cookbook/install-latex.html}{\textbf{TinyTex}}
    \item The \href{https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_pdf.pdf}{KableExtra} package is particularily useful to present tables in LaTeX format
    \item The funny \href{https://hadley.github.io/genzplyr/articles/cheatsheet.html}{\textit{genzplyr}} package with some GenZ commands for the youngest among us 
    \item \href{https://bookdown.org/yihui/rmarkdown/xaringan.html}{Fancy Xaringan presentations}
\end{itemize}

\alert{Reproducibility}
\begin{itemize}
    \item \href{https://github.com/FedericoTartarini/reproducible-research}{Federico Tartarini's great repository around reproducible research organisation}
\end{itemize}

\alert{Github and R}
\begin{itemize}
    \item \href{https://rfortherestofus.com/2021/02/how-to-use-git-github-with-r}{R for the rest of us' blogpost about the Github integration in R}
    \item \href{https://happygitwithr.com/big-picture}{Happy Git with R guide}
\end{itemize}


\alert{Github and Overleaf}

\begin{itemize}
    \item \href{https://docs.overleaf.com/integrations-and-add-ons/git-integration-and-github-synchronization}{Git integration and Github synchronisation with Overleaf}
\end{itemize}

\end{frame}



\end{document}